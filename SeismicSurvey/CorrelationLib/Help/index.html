<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Correlation Library DLL: Main Page</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>


</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">Correlation Library DLL
   &#160;<span id="projectnumber">1.0</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li class="current"><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('index.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">Correlation Library DLL Documentation</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h2><a class="anchor" id="introduction"></a>
Introduction</h2>
<p>Correlation Library is a C++ library implemented by Raul C. Muresan. The code is free for non-commercial purposes. <br/>
 For details on the Scaled Correlation algorithm see paper on "Scaled Correlation Analysis" by Danko Nikolic, Raul C. Muresan, Weijia Feng, and Wolf Singer. <br/>
 </p>
<h2><a class="anchor" id="description"></a>
Description</h2>
<p>The Correlation Library offers support for computing cross and scaled correlation between a pair of continuous valued, binary valued, or mixed signals. <br/>
 For each method of computing the correlation and each combination of signals, there is one specialized class that can handle the respective operations.<br/>
 The library compiles into a Windows DLL that exports a number of functions as wrappers over the original classes. </p>
<h2><a class="anchor" id="classe"></a>
C++ classes</h2>
<p>The C++ classes are not explicitly described here. We only provide a short description for the user to understand the structure of the library.<br/>
 The class functionalities are exported by the means of wrapper functions that are described in section "Dll functions exported". </p>
<h3><a class="anchor" id="naming"></a>
Naming conventions</h3>
<p>Each class is named as: C_descriptor_sufix, where</p>
<ul>
<li>descriptor - stands for CrossCorrelation or ScaledCorrelation<br/>
</li>
<li>sufix - denotes the combination type of data that the class accepts: B = Binary valued discrete signal (represented as a vector of time stamps corresponding to events with value "1"), C = Continuous valued discrete signal (represented as a vector of samples) =&gt; CC = Continuous-Continuos; BC = Binary-Continuous; BB = Binary-Binary. </li>
</ul>
<h3><a class="anchor" id="classlist"></a>
List of classes</h3>
<ul>
<li>CCrossCorrelationCC: A class that computes the cross-correlation for two continuous valued signals (Continuous - Continuous)</li>
<li>CCrossCorrelationBC: A class that computes the cross-correlation for a vector of time stamps corresponding to events in a binary signal and a continuous valued signal (Binary - Continuous)</li>
<li>CCrossCorrelationBB: A class that computes the cross-correlation for two vectors of time stamps corresponding to events in binary signals (Binary - Binary)</li>
<li>CScaledCorrelationCC: A class that computes the scaled correlation for two continuous valued signals (Continuous - Continuous)</li>
<li>CScaledCorrelationBC: A class that computes the scaled correlation for a vector of time stamps corresponding to events in a binary signal and a continuous valued signal (Binary - Continuous)</li>
<li>CScaledCorrelationBB: A class that computes the scaled correlation for two vectors of time stamps corresponding to events in binary signals (Binary - Binary) </li>
</ul>
<h3><a class="anchor" id="input"></a>
Input data formatting</h3>
<p>All classes respect the same standard for accepting the input data. For a binary input, a vector of time stamps is expected as input while for a continuous valued input, a digitized vector of samples is expected as input. <br/>
<br/>
 When multiple measurements (trials) are available for the data, the classes can handle multiple trials. The length of the trial, in original sampling units, has to be specified in the constructor. Next, when the input signals are provided in the method call to ComputeCrossCorrelation or ComputeScaledCorrelation, the method determines how many trials are available, computes the correlogram on each trial and finally averages the correlograms into one single correlogram.<br/>
<br/>
 When multiple trials are available, the input should be structured as follows:<br/>
<br/>
 |.........Trial 1...........||.........Trial 2...........||.........Trial 3...........||.........Trial 4...........||.........Trial 5...........|<br/>
<br/>
</p>
<ul>
<li>For continuous valued signals, there must be as many samples in each trial as the previously specified trial length. In any case, the method only considers as many samples as specified in the call to ComputeCrossCorrelation or ComputeScaledCorrelation.<br/>
<br/>
</li>
<li>For binary signals, the number of available trials is decided by taking into account the time stamp with the largest value. The method then searches, for each trial, the presence of valid time stamps. Time stamps for consecutive trials have to have increasing values. The trial to which a time stamp belongs is decided by taking into account the length of a trial in sampling units.<br/>
<br/>
</li>
</ul>
<p>If the user cannot structure the trials as a contiguous series of datapoints, then the best option is to pass a single trial to the class, get the correlogram for each trial, and then the user should compute the average correlogram. </p>
<dl class="note"><dt><b>Note:</b></dt><dd>For the case of scaled correlation, the user can use the sum of coefficients of correlation for each bin of the correlogram and the count of coefficients to efficiently compute the average, smooth, scaled correlogram for all trials (see section Example). Averaging the sums of correlation coefficients gives a better and smoother estimate of the final scaled correlogram than averaging the individual scaled correlograms for each trial (see Example: Scaled correlogram example with only one trial passed at a time).<br/>
 </dd></dl>
<h3><a class="anchor" id="methodcall"></a>
Method calls</h3>
<p>For the two types of correlations the classes expose an interface to compute the CrossCorrelation and the ScaledCorrelation respectively. Depending on the type of the input data, the methods accept different parameter types. However, they have a general format:<br/>
</p>
<ul>
<li>ComputeCrossCorrelation(VectorA, SizeOfVectorA, VectorB, SizeOfVectorB, pbNormalizeCorrelogram)<br/>
</li>
<li>ComputeScaledCorrelation(VectorA, SizeOfVectorA, VectorB, SizeOfVectorB, pbUseFisherZTransform)<br/>
 <br/>
 The first four parameters specify the input vectors and their sizes (in number of elements). Each vector has a different type depending if the input signal is binary or continuous.<br/>
 For binary data, the vectors are arrays of integers holding the time stamps. For continuous valued data, the vectors are arrays of floats, holding the samples.<br/>
 The last parameter of each function model is a boolean. pbNormalizeCorrelogram - determines whether the cross-correlogram should be normalized. pbUseFisherZTransform - determines if the scaled correlogram should use the Fisher Z Transform to average the coefficients of correlation.<br/>
</li>
</ul>
<h3><a class="anchor" id="output"></a>
Output data</h3>
<p>Each class exposes an interface that allows access to the computed cross or scaled correlogram. The correlogram is stored in the object as a vector of floats. The vector has a size of 2*CorrelationWindow+1.<br/>
 The correlogram vector is stored such that the correlation at lag -CorrelationWindow is at position 0, the correlation at lag 0 is stored at position CorrelationWindow, and the correlation at lag +CorrelationWindow is stored at position 2*CorrelationWindow.<br/>
<br/>
 To retrieve the correlogram, call:</p>
<ul>
<li>GetCrossCorrelogram() - retrieves a pointer to the vector holding the cross-correlogram <br/>
</li>
<li>GetScaledCrossCorrelogram() - retrieves a pointer to the vector holding the scaled correlogram <br/>
 The user should not write into the vectors! <br/>
</li>
</ul>
<dl class="attention"><dt><b>Attention:</b></dt><dd>Very important: the cross and scaled correlation buffers might contain values of Not A Number (NAN = -100000000.0f) if there was no variance in the input signals and correlation was, as a consequence, not defined! Always check the output buffers for NAN values before using them! Otherwise results may be compromised. </dd></dl>
<h2><a class="anchor" id="dllfunctions"></a>
Dll functions exported</h2>
<p>The correlation library provides flexible means to interact with the classes that compute correlation. It exports a set of wrapper functions that can be used by an external caller to access the full class functionality. </p>
<h3><a class="anchor" id="interfacingconvention"></a>
Interfacing convention</h3>
<p>To interface a given class method, the library exports a function with a similar name that has an additional parameter, which is an untyped pointer to an already created object of that class.<br/>
 <br/>
 For example, let ClassA be the class of interest, and Method1 be a method of ClassA. To create an interface to ClassA functionality, one must first create an object of that class and then call a wrapper function to access the class method.<br/>
<br/>
 </p>
<div class="fragment"><pre class="fragment"> <span class="keywordtype">void</span>* Wrapper_ObjectConstructor_ClassA()
 {
        <span class="keywordflow">return</span> <span class="keyword">new</span> ClassA();
 }

 <span class="keywordtype">void</span> Wrapper_ObjectDestructor_ClassA(<span class="keywordtype">void</span>* pObj)
 {
        <span class="keyword">delete</span> ((ClassA*) pObj);
 }

 <span class="keywordtype">void</span> Wrapper_Method1_Of_ClassA(<span class="keywordtype">void</span>* pObj,<span class="keywordtype">int</span> iSomeParam)
 {
        ((ClassA*) pObj)-&gt;Method1(iSomeParam);
 }      

 <span class="keywordtype">void</span> main()
 {
        <span class="keywordtype">void</span> *pObject;
        pObject = Wrapper_ObjectConstructor_ClassA();   <span class="comment">//A wrapper over the constructor of class A</span>
        Wrapper_Method1_Of_ClassA(pObject,1);           <span class="comment">//A wrapper over Method1 of class A</span>
        Wrapper_ObjectDestructor_ClassA(pObject);       <span class="comment">//A wrapper over the destructor of class A</span>
 }
</pre></div> <dl class="note"><dt><b>Note:</b></dt><dd>The wrapper constructors create untyped pointers to objects. The DLL caller can use these pointers as handles for the objects of a given class. All class operations have, as an additional parameter, the pointer to the object being handled. Depending on the wrapper function that is called, a corresponding method will be called from a corresponding class of the object whose handle is passed to the wrapper function. </dd></dl>
<h3><a class="anchor" id="naming"></a>
Naming conventions</h3>
<p>Each function is named as: prefix_name_sufix, where</p>
<ul>
<li>prefix - is optional and is usually added to avoid confusion, when a function with the same name is present in both Cross-Correlation and Scaled-Correlation classes. The prefix could be either CrossCorrelation or ScaledCorrelation</li>
<li>name - is usually the name of the class method that is being interfaced <br/>
</li>
<li>sufix - denotes the combination type of data that the class accepts: D = Binary, C = Continuous =&gt; CC = Continuous-Continuos; BC = Binary-Continuous; BB = Binary-Binary. </li>
</ul>
<h3><a class="anchor" id="wrapperfunctionlist"></a>
List of wrapper functions</h3>
<p>Cross-correlation for Continuous-Continuous data:</p>
<ul>
<li>void* <a class="el" href="_correlation_lib_8h.html#afb6a9ca4d2d2c25255c5a8beefef200c" title="Creates an object that computes cross-correlation on a pair of continuous - continuous signals...">CreateCrossCorrelationComputerCC(int piCorrelationWindow, int piTrialLength, int &amp;piIsError)</a></li>
<li>void <a class="el" href="_correlation_lib_8h.html#af6c474a5979970b6efbf6552b05a5fe2" title="Destructor for cross-correlation objects on continuous-continuous input pairs; always call this to cl...">FreeCrossCorrelationComputerCC(void *pvObject)</a></li>
<li>void <a class="el" href="_correlation_lib_8h.html#ae44adcab90efba50bcc412dee0779d7d" title="Compute the cross-correlation of two vectors of samples.">ComputeCrossCorrelationCC(void *pvObject, float *pfaSamplesA, int piNrSamplesInA, float *pfaSamplesB, int piNrSamplesInB, int piNormalizationFlag)</a></li>
<li>void <a class="el" href="_correlation_lib_8h.html#a3713cef55f18f46d18ab5a69ec1fa58a" title="Compute the cross-correlation of two digitized continuous signals, on a partial window of the trial...">ComputeWindowedCrossCorrelationPerTrialCC(void *pvObject, float *pfaSamplesA, int piNrSamplesInA, float *pfaSamplesB, int piNrSamplesInB, int piFromOffsetInTrial, int piToOffsetInTrial, int  piNormalizationFlag)</a></li>
<li>float* <a class="el" href="_correlation_lib_8h.html#a2523e5841a715baa4d7a005b9dafee71" title="Returns the buffer with the computed cross-correlogram; returns NULL if there was an error; please ch...">GetCrossCorrelogramCC(void *pvObject)</a></li>
<li>int <a class="el" href="_correlation_lib_8h.html#aeed9cfe3f5b7280b394e171b3d8271bc" title="Set the size of the correlation window; the parameter specifies the correlation window; for example f...">CrossCorrelationModifyCorrelationWindowCC(void *pvObject, int piNewCorrelationWindow)</a></li>
<li>int <a class="el" href="_correlation_lib_8h.html#a0c6387c67ec02c76a79f478d436794e3" title="Set the length of the trial in original sampling units.">CrossCorrelationModifyTrialLengthCC(void *pvObject, int piNewTrialLength)</a></li>
<li>int <a class="el" href="_correlation_lib_8h.html#a30b9cb58a7f8b8c7234d3987eb6a0725" title="Sets all parameters at once.">CrossCorrelationModifyAllParametersCC(void *pvObject, int piNewCorrelationWindow, int piNewTrialLength)</a></li>
<li>int <a class="el" href="_correlation_lib_8h.html#a74ca782b4887aade8b5810b830c03a00" title="Get the size of the correlation window.">CrossCorrelationGetCorrelationWindowCC(void *pvObject)</a></li>
<li>int <a class="el" href="_correlation_lib_8h.html#aa321b648d19085d8df2d574dc22cf001" title="Get the trial length in original sampling units.">CrossCorrelationGetTrialLengthCC(void *pvObject)</a></li>
</ul>
<p>Cross-correlation for Binary-Continuous data:</p>
<ul>
<li>void* <a class="el" href="_correlation_lib_8h.html#a3014a4c752ebfed75c4e7a28a66faba1" title="Creates an object that computes cross-correlation on a pair of binary - continuous signals...">CreateCrossCorrelationComputerBC(int piCorrelationWindow, int piTrialLength, int &amp;piIsError)</a></li>
<li>void <a class="el" href="_correlation_lib_8h.html#a84c25790a699b6c86f369de92231660e" title="Destructor for cross-correlation objects on binary-continuous input pairs; always call this to cleanu...">FreeCrossCorrelationComputerBC(void *pvObject)</a></li>
<li>void <a class="el" href="_correlation_lib_8h.html#a1bd92aeaa206f07e1da1380c17323804" title="Compute the cross-correlation of one binary signal with one continuos signal.">ComputeCrossCorrelationBC(void *pvObject, int *piaTimeStampsA, int piNrTimeStampsInA, float *pfaSamplesB, int piNrSamplesInB, int pbNormalizeCorrelogram)</a></li>
<li>float* <a class="el" href="_correlation_lib_8h.html#a268167729a62d2ba36093665d851547e" title="Returns the buffer with the computed cross-correlogram; returns NULL if there was an error; please ch...">GetCrossCorrelogramBC(void *pvObject)</a></li>
<li>int <a class="el" href="_correlation_lib_8h.html#a679d63b659a69f2ed91cd0b1e06d9a16" title="Set the size of the correlation window; for example for a window of -100..+100 pass 100 as a paramete...">CrossCorrelationModifyCorrelationWindowBC(void *pvObject, int piNewCorrelationWindow)</a></li>
<li>int <a class="el" href="_correlation_lib_8h.html#af5fe884d9ef18e9770771ac0e14b7f27" title="Set the length of the trial in original sampling units.">CrossCorrelationModifyTrialLengthBC(void *pvObject, int piNewTrialLength)</a></li>
<li>int <a class="el" href="_correlation_lib_8h.html#afb573b3d217dc96181280472433456b9" title="Sets all parameters at once.">CrossCorrelationModifyAllParametersBC(void *pvObject, int piNewCorrelationWindow, int piNewTrialLength)</a></li>
<li>int <a class="el" href="_correlation_lib_8h.html#a03f21ab1128b1ca13d78b5c397078d84" title="Get the size of the correlation window.">CrossCorrelationGetCorrelationWindowBC(void *pvObject)</a></li>
<li>int <a class="el" href="_correlation_lib_8h.html#a04b293310e8a4d34ccd5e077ba1d3d50" title="Get the trial length in original sampling units.">CrossCorrelationGetTrialLengthBC(void *pvObject)</a></li>
</ul>
<p>Cross-correlation for Binary-Binary data:</p>
<ul>
<li>void* <a class="el" href="_correlation_lib_8h.html#a0f507640a5e34668b4418ddbf3a5e47b" title="Creates an object that computes cross-correlation on a pair of binary - binary signals.">CreateCrossCorrelationComputerBB(int piCorrelationWindow, int piTrialLength, int &amp;piIsError)</a></li>
<li>void <a class="el" href="_correlation_lib_8h.html#ae4d277fd5db3524dece4d8848d22abc6" title="Destructor for cross-correlation objects on binary-binary input pairs; always call this to cleanup yo...">FreeCrossCorrelationComputerBB(void *pvObject)</a></li>
<li>void <a class="el" href="_correlation_lib_8h.html#ad39edc642b3538a39acf2a6eb5096ceb" title="Compute the cross-correlation of two vectors of time stamps.">ComputeCrossCorrelationBB(void *pvObject, int *piaTimeStampsA, int piNrTimeStampsInA, int *piaTimeStampsB, int piNrTimeStampsInB, int pbNormalizeCorrelogram)</a></li>
<li>void <a class="el" href="_correlation_lib_8h.html#ad10175d2e8ae460d0b1d70fef867f4b7" title="Compute the cross-correlation of two vectors of time stamps, on a partial window of the trial...">ComputeWindowedCrossCorrelationPerTrialBB(void* pvObject,int *piaTimeStampsA,int piNrTimeStampsInA,int *piaTimeStampsB,int piNrTimeStampsInB,int piFromOffsetInTrial,int piToOffsetInTrial,int pbNormalizeCorrelogram)</a>;</li>
<li>float* <a class="el" href="_correlation_lib_8h.html#a4978e9ea9afe251ec6de9742e999b402" title="Returns the buffer with the computed cross-correlogram; returns NULL if there was an error; please ch...">GetCrossCorrelogramBB(void *pvObject)</a></li>
<li>int <a class="el" href="_correlation_lib_8h.html#a212b55486f17c48c469d877c62f0f60d" title="Set the size of the correlation window; the parameter specifies the correlation window; for example f...">CrossCorrelationModifyCorrelationWindowBB(void *pvObject, int piNewCorrelationWindow)</a></li>
<li>int <a class="el" href="_correlation_lib_8h.html#ad369a93916660b25c0d1449b89531241" title="Set the length of the trial in original sampling units.">CrossCorrelationModifyTrialLengthBB(void *pvObject, int piNewTrialLength)</a></li>
<li>int <a class="el" href="_correlation_lib_8h.html#ad08c612ab98d342a24a25caf7e400ee6" title="Sets all parameters at once.">CrossCorrelationModifyAllParametersBB(void *pvObject, int piNewCorrelationWindow, int piNewTrialLength)</a></li>
<li>int <a class="el" href="_correlation_lib_8h.html#ab82ecf720b908e4fc79d44e80c0bf950" title="Get the size of the correlation window.">CrossCorrelationGetCorrelationWindowBB(void *pvObject)</a></li>
<li>int <a class="el" href="_correlation_lib_8h.html#aa02970076090380f68fdb336ef17a145" title="Get the trial length in original sampling units.">CrossCorrelationGetTrialLengthBB(void *pvObject)</a></li>
</ul>
<p>Scaled correlation for Continuous-Continuous data:</p>
<ul>
<li>void* <a class="el" href="_correlation_lib_8h.html#a80fd5c7066eea3feedb4e41c05c8d2ba" title="Creates an object that computes scaled correlation on a pair of continuous - continuous signals...">CreateScaledCorrelationComputerCC(int piScaleWindow, int piCorrelationWindow, int piTrialLength, int &amp;piIsError)</a></li>
<li>void <a class="el" href="_correlation_lib_8h.html#a8ac75f905061819b66013da56963b141" title="Destructor for scaled correlation objects on continuous-continuous input pairs; always call this to c...">FreeScaledCorrelationComputerCC(void *pvObject)</a></li>
<li>void <a class="el" href="_correlation_lib_8h.html#a0aeabf2722df8b1621e421bfd08036cf" title="Compute the scaled correlation of two digitized continuous signals.">ComputeScaledCorrelationCC(void *pvObject, float *pfaSamplesA, int piNrSamplesInA, float *pfaSamplesB, int piNrSamplesInB, int pbUseFisherZTransform)</a></li>
<li>void <a class="el" href="_correlation_lib_8h.html#a022945ffd21dfc1e6448273a46940f88" title="Compute the scaled correlation of two digitized continuous signals, on a partial window of the trial;...">ComputeWindowedScaledCorrelationPerTrialCC(void *pvObject, float *pfaSamplesA, int piNrSamplesInA, float *pfaSamplesB, int piNrSamplesInB, int piFromOffsetInTrial, int piToOffsetInTrial, int pbUseFisherZTransform)</a></li>
<li>float* <a class="el" href="_correlation_lib_8h.html#abf9b50604ea37ec1a0e62788a857466e" title="Returns the buffer with the computed scaled correlogram; returns NULL if there was an error; please c...">GetScaledCrossCorrelogramCC(void *pvObject)</a></li>
<li>float* <a class="el" href="_correlation_lib_8h.html#a3a9d937221b6c62810921b8468f2c802" title="Returns the sum of valid Pearson coefficients of correlation for each bin of the correlogram.">GetPearsonCoefficientSumsCC(void *pvObject)</a></li>
<li>int* <a class="el" href="_correlation_lib_8h.html#a3c8cec342af17b2bb5c8b4a3acc7cf82">GetPearsonCoefficientCountsCC(void *pvObject)</a></li>
<li>int* <a class="el" href="_correlation_lib_8h.html#a4b0cc43844bae31221898cd863b7a820" title="Returns the distribution of coefficients of correlation.">GetDistributionOfCorrelationCoefficientsCC(void *pvObject, int &amp;piNumberOfBins, float &amp;pfBinSize)</a></li>
<li>int <a class="el" href="_correlation_lib_8h.html#aad2da92fcd3523de3de36985efd99b6b" title="Changes the scale segment size for the scaled correlation.">ScaledCorrelationModifyScaleWindowCC(void *pvObject, int piNewScale)</a></li>
<li>int <a class="el" href="_correlation_lib_8h.html#ab7a39286bf77bd480421dd77bf7aa58b" title="Set the size of the correlation window; the parameter specifies the correlation window; for example f...">ScaledCorrelationModifyCorrelationWindowCC(void *pvObject, int piNewCorrelationWindow)</a></li>
<li>int <a class="el" href="_correlation_lib_8h.html#a3c3674d84d69737c75adca420f5b23a0" title="Set the length of the trial in original sampling units.">ScaledCorrelationModifyTrialLengthCC(void *pvObject, int piNewTrialLength)</a></li>
<li>int <a class="el" href="_correlation_lib_8h.html#a4e17891ad2e8e85925074d48bcee9d3d" title="Sets all parameters at once.">ScaledCorrelationModifyAllParametersCC(void *pvObject, int piNewScale, int piNewCorrelationWindow, int piNewTrialLength)</a></li>
<li>int <a class="el" href="_correlation_lib_8h.html#a0353aa122a42704d5f13ff9fb3f6a203" title="Get the size of the current scale window.">ScaledCorrelationGetScaleWindowCC(void *pvObject)</a></li>
<li>int <a class="el" href="_correlation_lib_8h.html#a8c1c35470e6e268ca3edd0685152e037" title="Get the size of the correlation window.">ScaledCorrelationGetCorrelationWindowCC(void *pvObject)</a></li>
<li>int <a class="el" href="_correlation_lib_8h.html#aba4f450723d58d1998fc6e24d16d452b" title="Get the trial length in original sampling units.">ScaledCorrelationGetTrialLengthCC(void *pvObject)</a></li>
<li>int <a class="el" href="_correlation_lib_8h.html#ad43bbdaf2739aff365b32714eb149f1a" title="Get the number of bins of the distribution of coefficients of correlation.">GetDistributionOfCorrelationCoefficientsBinNrCC(void *pvObject)</a></li>
<li>float <a class="el" href="_correlation_lib_8h.html#aec38cb86046a3d081460e0d9ec4108e2" title="Get the size of a bin of the distribution of coefficients of correlation.">GetDistributionOfCorrelationCoefficientsBinSizeCC(void *pvObject)</a></li>
</ul>
<p>Scaled correlation for Binary-Continuous data:</p>
<ul>
<li>void* <a class="el" href="_correlation_lib_8h.html#a48de7c81d9fa32e5fd4c32b6d3045478" title="Creates an object that computes scaled correlation on a pair of binary - continuous signals...">CreateScaledCorrelationComputerBC(int piScaleWindow, int piCorrelationWindow, int piTrialLength, int &amp;piIsError)</a></li>
<li>void <a class="el" href="_correlation_lib_8h.html#ad2906f518d77fd5311cd7eb6c3d3a3d0" title="Destructor for scaled correlation objects on binary-continuous input pairs; always call this to clean...">FreeScaledCorrelationComputerBC(void *pvObject)</a></li>
<li>void <a class="el" href="_correlation_lib_8h.html#a4452b0caaaac3b61e8b1b9ccd3230678" title="Compute the scaled correlation of one binary signal with one continuos signal.">ComputeScaledCorrelationBC(void *pvObject, int *piaTimeStampsA, int piNrTimeStampsInA, float *pfaSamplesB, int piNrSamplesInB, int pbUseFisherZTransform)</a></li>
<li>float* <a class="el" href="_correlation_lib_8h.html#a76cc2497235fc6fbf09c25b6551d05ad" title="Returns the buffer with the computed scaled correlogram; returns NULL if there was an error; please c...">GetScaledCrossCorrelogramBC(void *pvObject)</a></li>
<li>float* <a class="el" href="_correlation_lib_8h.html#ad2489abe561039458a41b6c41cd078f4" title="Returns the sum of valid Point Biserial coefficients of correlation for each bin of the correlogram...">GetPBsCoefficientSumsBC(void *pvObject)</a></li>
<li>int* <a class="el" href="_correlation_lib_8h.html#ad671a85e19869f51437f97968bc42c55" title="Returns how many Point Biserial coefficients of correlation have been averaged for each bin of the sc...">GetPBsCoefficientCountsBC(void *pvObject)</a></li>
<li>int* <a class="el" href="_correlation_lib_8h.html#a35649fceb2026bab50ba9f6398a44880" title="Returns the distribution of coefficients of correlation.">GetDistributionOfCorrelationCoefficientsBC(void *pvObject, int &amp;piNumberOfBins, float &amp;pfBinSize)</a></li>
<li>int <a class="el" href="_correlation_lib_8h.html#a249f83d740dc82f975719e996db6089c" title="Changes the scale window for the scaled correlation.">ScaledCorrelationModifyScaleWindowBC(void *pvObject, int piNewScale)</a></li>
<li>int <a class="el" href="_correlation_lib_8h.html#a39f4c0dee1a3a5514e572cd6e0a706d4" title="Set the size of the correlation window; the parameter specifies the correlation window; for example f...">ScaledCorrelationModifyCorrelationWindowBC(void *pvObject, int piNewCorrelationWindow)</a></li>
<li>int <a class="el" href="_correlation_lib_8h.html#a8df758579da68f789778b8248ee04f92" title="Set the length of the trial in original sampling units.">ScaledCorrelationModifyTrialLengthBC(void *pvObject, int piNewTrialLength)</a></li>
<li>int <a class="el" href="_correlation_lib_8h.html#a28177a6d25420e612e6b0fa09cd0b1ba" title="Sets all parameters at once.">ScaledCorrelationModifyAllParametersBC(void *pvObject, int piNewScale, int piNewCorrelationWindow, int piNewTrialLength)</a></li>
<li>int <a class="el" href="_correlation_lib_8h.html#a087179175eec5e906879a0a2e8ce0c05" title="Get the size of the current scale window.">ScaledCorrelationGetScaleWindowBC(void *pvObject)</a></li>
<li>int <a class="el" href="_correlation_lib_8h.html#a69f7dccfde605a8c9169175d73375e54" title="Get the size of the correlation window.">ScaledCorrelationGetCorrelationWindowBC(void *pvObject)</a></li>
<li>int <a class="el" href="_correlation_lib_8h.html#a474a8d6da6498f6e7ee8c534dd1de64c" title="Get the trial length in original sampling units.">ScaledCorrelationGetTrialLengthBC(void *pvObject)</a></li>
<li>int <a class="el" href="_correlation_lib_8h.html#a0c04ab4d6b71dae581747db0d7bc3bd7" title="Get the number of bins of the distribution of coefficients of correlation.">GetDistributionOfCorrelationCoefficientsBinNrBC(void *pvObject)</a></li>
<li>float <a class="el" href="_correlation_lib_8h.html#a801a4ae5a3ab485cc14c31c69bdfac7b" title="Get the size of a bin of the distribution of coefficients of correlation.">GetDistributionOfCorrelationCoefficientsBinSizeBC(void *pvObject)</a></li>
</ul>
<p>Scaled correlation for Binary-Binary data:</p>
<ul>
<li>void* <a class="el" href="_correlation_lib_8h.html#ad959b7f7f89199c750466032cd7e2db6" title="Creates an object that computes scaled correlation on a pair of binary - binary signals.">CreateScaledCorrelationComputerBB(int piScaleWindow, int piCorrelationWindow, int piTrialLength, int &amp;piIsError)</a></li>
<li>void <a class="el" href="_correlation_lib_8h.html#a733e7a70b3014e857632c623ec173c7e" title="Destructor for scaled correlation objects on binary-binary pairs; always call this to cleanup your da...">FreeScaledCorrelationComputerBB(void *pvObject)</a></li>
<li>void <a class="el" href="_correlation_lib_8h.html#a9b4f8cda22eccc7c17d547242ec2190b" title="Compute the scaled correlation of two vectors of time stamps.">ComputeScaledCorrelationBB(void *pvObject, int *piaTimeStampsA, int piNrTimeStampsInA, int *piaTimeStampsB, int piNrTimeStampsInB, int pbUseFisherZTransform)</a></li>
<li>void <a class="el" href="_correlation_lib_8h.html#a63c798bf5d1e562fffb4cd0a21ab8236" title="Compute the scaled correlation of two vectors of time stamps, on a partial window of the trial; ONLY ...">ComputeWindowedScaledCorrelationPerTrialBB(void *pvObject, int *piaTimeStampsA, int piNrTimeStampsInA, int *piaTimeStampsB, int piNrTimeStampsInB, int piFromOffsetInTrial, int piToOffsetInTrial, int pbUseFisherZTransform)</a></li>
<li>float* <a class="el" href="_correlation_lib_8h.html#a40c1d6601a6cce59200f48caf13d230c" title="Returns the buffer with the computed scaled-cross-correlogram; returns NULL if there was an error; pl...">GetScaledCrossCorrelogramBB(void *pvObject)</a></li>
<li>float* <a class="el" href="_correlation_lib_8h.html#a1ca89f271228143e6a5e3fb4d7529a82" title="Returns the sum of valid Fi coefficients of correlation for each bin of the correlogram.">GetFiCoefficientSumsBB(void *pvObject)</a></li>
<li>int* <a class="el" href="_correlation_lib_8h.html#ae1b060e76dde4797fcdfef0f7b8e16eb" title="Returns how many Fi coefficients of correlation have been averaged for each bin of the scaled cross c...">GetFiCoefficientCountsBB(void *pvObject)</a></li>
<li>int* <a class="el" href="_correlation_lib_8h.html#a18eff13e917a1189411547cd2233fafe" title="Returns the distribution of coefficients of correlation.">GetDistributionOfCorrelationCoefficientsBB(void *pvObject, int &amp;piNumberOfBins, float &amp;pfBinSize)</a></li>
<li>int <a class="el" href="_correlation_lib_8h.html#aa3e07f2b849e09e413dd49cfd8742ae9" title="Changes the scale window for the scaled correlation;.">ScaledCorrelationModifyScaleWindowBB(void *pvObject, int piNewScale)</a></li>
<li>int <a class="el" href="_correlation_lib_8h.html#a249b5bc4d0e492dd58c5378a527a5e43" title="Set the size of the correlation window; the parameter specifies the correlation window; for example f...">ScaledCorrelationModifyCorrelationWindowBB(void *pvObject, int piNewCorrelationWindow)</a></li>
<li>int <a class="el" href="_correlation_lib_8h.html#afe5728f6e251c378332a7d50b1c87325" title="Set the length of the trial in original sampling units.">ScaledCorrelationModifyTrialLengthBB(void *pvObject, int piNewTrialLength)</a></li>
<li>int <a class="el" href="_correlation_lib_8h.html#a9b0a05493c9f820cffc64653dc570bb5" title="Sets all parameters at once.">ScaledCorrelationModifyAllParametersBB(void *pvObject, int piNewScale, int piNewCorrelationWindow, int piNewTrialLength)</a></li>
<li>int <a class="el" href="_correlation_lib_8h.html#a8198e9a1a46cac1c0f62f9f799209327" title="Get the size of the current scale window.">ScaledCorrelationGetScaleWindowBB(void *pvObject)</a></li>
<li>int <a class="el" href="_correlation_lib_8h.html#acbbb48897af38cfb98e1fdb545536ba1" title="Get the size of the correlation window.">ScaledCorrelationGetCorrelationWindowBB(void *pvObject)</a></li>
<li>int <a class="el" href="_correlation_lib_8h.html#a97f32acefefd51f10065ef48d3581612" title="Get the trial length in original sampling units.">ScaledCorrelationGetTrialLengthBB(void *pvObject)</a></li>
<li>int <a class="el" href="_correlation_lib_8h.html#a0c3860544d8a1456569f8f3a9876bbf5" title="Get the number of bins of the distribution of coefficients of correlation.">GetDistributionOfCorrelationCoefficientsBinNrBB(void *pvObject)</a></li>
<li>float <a class="el" href="_correlation_lib_8h.html#a92f469b32230f1f925d0bc0b91339f3a" title="Get the size of a bin of the distribution of coefficients of correlation.">GetDistributionOfCorrelationCoefficientsBinSizeBB(void *pvObject)</a></li>
</ul>
<h3><a class="anchor" id="example"></a>
Examples of usage</h3>
<p>Let us consider we have two continuous valued signals that we want to correlate. The signals, we suppose, have been sampled at 1 kHz. Each signal has 2 trials recorded, with a length of 1000 ms each. We want to compute the cross-correlation and the scaled correlation.<br/>
<br/>
 </p>
<div class="fragment"><pre class="fragment"> <span class="comment">//Cross correlogram example:</span>
<span class="preprocessor"> #include &quot;<a class="code" href="_correlation_lib_8h.html">CorrelationLib.h</a>&quot;</span>
<span class="preprocessor"> #include &quot;<a class="code" href="_constants_8h.html">Constants.h</a>&quot;</span>
 <span class="keywordtype">float</span> SignalA[2000];
 <span class="keywordtype">float</span> SignalB[2000];
 <span class="keywordtype">float</span>* CrossCorrelogram;
 <span class="keywordtype">int</span> iTrialLength = 1000;               <span class="comment">//the legth of the trial is 1000 so we have signal vectors holding 2 trials (2000 entries)</span>
 <span class="keywordtype">int</span> iCorrelationWindow = 100;          <span class="comment">//-100..+100 correlation lags</span>
 
 <span class="comment">//Here you should fill the SignalA and SignalB arrays with values</span>

 <span class="comment">//And then compute the correlogram</span>
 <span class="keywordtype">int</span> isError = 0;

 <span class="keywordtype">void</span>* ClassicCC_Computer = NULL;
 ClassicCC_Computer = <a class="code" href="_correlation_lib_8h.html#afb6a9ca4d2d2c25255c5a8beefef200c" title="Creates an object that computes cross-correlation on a pair of continuous - continuous signals...">CreateCrossCorrelationComputerCC</a>(iCorrelationWindow,iTrialLength,isError);
 <span class="keywordflow">if</span>(isError == 0)
 {
        <a class="code" href="_correlation_lib_8h.html#ae44adcab90efba50bcc412dee0779d7d" title="Compute the cross-correlation of two vectors of samples.">ComputeCrossCorrelationCC</a>(ClassicCC_Computer,SignalA,2000,SignalB,2000,0);
        CrossCorrelogram = <a class="code" href="_correlation_lib_8h.html#a2523e5841a715baa4d7a005b9dafee71" title="Returns the buffer with the computed cross-correlogram; returns NULL if there was an error; please ch...">GetCrossCorrelogramCC</a>(ClassicCC_Computer);
        <span class="keywordflow">for</span>(<span class="keywordtype">int</span> j=0;j&lt;2*iCorrelationWindow+1;j++)
        {
                <span class="keywordflow">if</span>(CrossCorrelogram[j] != <a class="code" href="_constants_8h.html#a8abfcc76130f3f991d124dd22d7e69bc">NAN</a>)
                {
                        <span class="comment">//use the CrossCorrelogram only if the value is not NAN (only if the correlation was defined)</span>
                }
        }
 }
 <span class="keywordflow">if</span>(ClassicCC_Computer != NULL) <a class="code" href="_correlation_lib_8h.html#af6c474a5979970b6efbf6552b05a5fe2" title="Destructor for cross-correlation objects on continuous-continuous input pairs; always call this to cl...">FreeCrossCorrelationComputerCC</a>(ClassicCC_Computer);
</pre></div><p> <br/>
<br/>
 </p>
<div class="fragment"><pre class="fragment"> <span class="comment">//Scaled correlogram example:</span>
<span class="preprocessor"> #include &quot;<a class="code" href="_correlation_lib_8h.html">CorrelationLib.h</a>&quot;</span>
<span class="preprocessor"> #include &quot;<a class="code" href="_constants_8h.html">Constants.h</a>&quot;</span>
 <span class="keywordtype">float</span> SignalA[2000];
 <span class="keywordtype">float</span> SignalB[2000];
 <span class="keywordtype">float</span>* ScaledCorrelogram;
 <span class="keywordtype">int</span> iTrialLength = 1000;               <span class="comment">//the legth of the trial is 1000 so we have signal vectors holding 2 trials (2000 entries)</span>
 <span class="keywordtype">int</span> iCorrelationWindow = 100;          <span class="comment">//-100..+100 correlation lags</span>
 <span class="keywordtype">int</span> iScaleWindow = 25;                 <span class="comment">//25 ms - if the sampling frequency of the signals is 1 kHz =&gt; we are looking to components faster than 40 Hz</span>
 
 <span class="comment">//Here you should fill the SignalA and SignalB arrays with values</span>

 <span class="comment">//And then compute the correlogram</span>
 <span class="keywordtype">int</span> isError = 0;
 <span class="keywordtype">void</span>* ScaledCC_Computer = NULL;
 ScaledCC_Computer = <a class="code" href="_correlation_lib_8h.html#a80fd5c7066eea3feedb4e41c05c8d2ba" title="Creates an object that computes scaled correlation on a pair of continuous - continuous signals...">CreateScaledCorrelationComputerCC</a>(iScaleWindow,iCorrelationWindow,iTrialLength,isError);
 <span class="keywordflow">if</span>(isError == 0)
 {
        <a class="code" href="_correlation_lib_8h.html#a0aeabf2722df8b1621e421bfd08036cf" title="Compute the scaled correlation of two digitized continuous signals.">ComputeScaledCorrelationCC</a>(ScaledCC_Computer,SignalA,2000,SignalB,2000,0);
        ScaledCorrelogram = <a class="code" href="_correlation_lib_8h.html#abf9b50604ea37ec1a0e62788a857466e" title="Returns the buffer with the computed scaled correlogram; returns NULL if there was an error; please c...">GetScaledCrossCorrelogramCC</a>(ScaledCC_Computer);
        <span class="keywordflow">for</span>(<span class="keywordtype">int</span> j=0;j&lt;2*iCorrelationWindow+1;j++)
        {
                <span class="keywordflow">if</span>(ScaledCorrelogram[j] != <a class="code" href="_constants_8h.html#a8abfcc76130f3f991d124dd22d7e69bc">NAN</a>)
                {
                        <span class="comment">//use the ScaledCorrelogram only if the value is not NAN (only if the correlation was defined)</span>
                }
        }
 }
 <span class="keywordflow">if</span>(ScaledCC_Computer != NULL) <a class="code" href="_correlation_lib_8h.html#a8ac75f905061819b66013da56963b141" title="Destructor for scaled correlation objects on continuous-continuous input pairs; always call this to c...">FreeScaledCorrelationComputerCC</a>(ScaledCC_Computer);
</pre></div><p> <br/>
<br/>
 Let us now assume we have again two signals each with two trials. This time however, we want to compute the correlogram manually by computing the sum of correlation coefficients for each trial and then computing the average in the end.<br/>
<br/>
 </p>
<div class="fragment"><pre class="fragment"> <span class="comment">//Scaled correlogram example with only one trial passed at a time:</span>
 <span class="comment">//This is useful when the user wants to compute the correlogram per trial and in the end average the correlation coefficients himself.</span>
 <span class="comment">//Averaging the sums of correlation coefficients gives a better and smoother estimate of the final scaled correlogram than averaging the individual scaled correlograms for each trial!!!</span>
<span class="preprocessor"> #include &quot;<a class="code" href="_correlation_lib_8h.html">CorrelationLib.h</a>&quot;</span>
<span class="preprocessor"> #include &quot;<a class="code" href="_constants_8h.html">Constants.h</a>&quot;</span>
 <span class="keywordtype">float</span> SignalA[2000];
 <span class="keywordtype">float</span> SignalB[2000];
 <span class="keywordtype">float</span> ScaledCorrelogram[201];
 <span class="keywordtype">int</span>   SummedCoefficientsCount[201];
 <span class="keywordtype">float</span> *coeff_sum_buffer;
 <span class="keywordtype">int</span> *coeff_count_buffer;
 <span class="keywordtype">int</span> iTrialLength = 1000;               <span class="comment">//the legth of the trial is 1000 so we have signal vectors holding 2 trials (2000 entries)</span>
 <span class="keywordtype">int</span> iCorrelationWindow = 100;          <span class="comment">//-100..+100 correlation lags</span>
 <span class="keywordtype">int</span> iScaleWindow = 25;                 <span class="comment">//25 ms - if the sampling frequency of the signals is 1 kHz =&gt; we are looking to components faster than 40 Hz</span>
 <span class="keywordtype">int</span> iTrialNr = 2;                      <span class="comment">//Two trials</span>
 
 <span class="comment">//Here you should fill the SignalA and SignalB arrays with values</span>

 <span class="comment">//And then compute the correlogram</span>
 <span class="keywordtype">int</span> isError = 0;
 <span class="keywordtype">void</span>* ScaledCC_Computer;
 ScaledCC_Computer = <a class="code" href="_correlation_lib_8h.html#a80fd5c7066eea3feedb4e41c05c8d2ba" title="Creates an object that computes scaled correlation on a pair of continuous - continuous signals...">CreateScaledCorrelationComputerCC</a>(iScaleWindow,iCorrelationWindow,iTrialLength,isError);
 
 <span class="keywordflow">if</span>(isError == 0)
 {
        <span class="comment">//Cleanup the final buffer and the counting buffer</span>
        <span class="keywordflow">for</span>(<span class="keywordtype">int</span> j=0;j&lt;2*iCorrelationWindow+1;j++)
        {
                ScaledCorrelogram[j] = 0;
                SummedCoefficientsCount[j] = 0;
        }

        <span class="comment">//For each trial, compute the sum of correlation coefficients</span>
        <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0;i&lt;iTrialNr;i++)
        {
                <a class="code" href="_correlation_lib_8h.html#a0aeabf2722df8b1621e421bfd08036cf" title="Compute the scaled correlation of two digitized continuous signals.">ComputeScaledCorrelationCC</a>(ScaledCC_Computer,&amp;(SignalA[i*iTrialLength]),iTrialLength,&amp;(SignalB[i*iTrialLength]),iTrialLength,0);
                coeff_sum_buffer = <a class="code" href="_correlation_lib_8h.html#a3a9d937221b6c62810921b8468f2c802" title="Returns the sum of valid Pearson coefficients of correlation for each bin of the correlogram.">GetPearsonCoefficientSumsCC</a>(ScaledCC_Computer);
                coeff_count_buffer = <a class="code" href="_correlation_lib_8h.html#a3c8cec342af17b2bb5c8b4a3acc7cf82">GetPearsonCoefficientCountsCC</a>(ScaledCC_Computer);
                <span class="keywordflow">for</span>(j=0;j&lt;2*iCorrelationWindow+1;j++)
                {
                        <span class="keywordflow">if</span>(coeff_sum_buffer[j] != <a class="code" href="_constants_8h.html#a8abfcc76130f3f991d124dd22d7e69bc">NAN</a>) ScaledCorrelogram[j] += coeff_sum_buffer[j];
                        SummedCoefficientsCount[j] += coeff_count_buffer[j];
                }               
        }

        <span class="comment">//Now compute the final scaled correlogram by computing the average</span>
        <span class="keywordflow">for</span>(j=0;j&lt;2*iCorrelationWindow+1;j++) <span class="keywordflow">if</span>(SummedCoefficientsCount[j]) ScaledCorrelogram[j] /= SummedCoefficientsCount[j];
 }
 <span class="keywordflow">if</span>(ScaledCC_Computer != NULL) <a class="code" href="_correlation_lib_8h.html#a8ac75f905061819b66013da56963b141" title="Destructor for scaled correlation objects on continuous-continuous input pairs; always call this to c...">FreeScaledCorrelationComputerCC</a>(ScaledCC_Computer);
</pre></div> </div></div><!-- contents -->
</div>
  <div id="nav-path" class="navpath">
    <ul>

    <li class="footer">Generated on Mon Jan 9 2012 18:21:44 for Correlation Library DLL by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.6.1 </li>
   </ul>
 </div>


</body>
</html>
